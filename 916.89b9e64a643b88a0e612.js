"use strict";(self.webpackChunkurl=self.webpackChunkurl||[]).push([[916],{2916:(z,m,e)=>{e.r(m),e.d(m,{CategoryComponent:()=>d,PagesCategoryModule:()=>j,routerPaths:()=>h});var p=e(2057),v=e(552),Z=e(5923),b=e(9924),A=e(5728),u=e(5917),S=e(6215),P=e(9112),C=e(8002),U=e(7057),c=e(8307),f=e(3190),L=e(9761),a=e(1075),t=e(4788),M=e(3320),O=e(2943),T=e(4602);const g=function(){return[]};let d=(()=>{class o{constructor(r,n){this.sdkService=r,this.route=n,this.categoryProducts=(0,u.of)([]),this.breadcrumbs=(0,u.of)([]),this.loading=!1,this.queryChange=new S.X({sort:a.U.default,include:""}),this.sortByOptions=(0,u.of)([{label:"Default",value:a.U.default},{label:"Name (A-Z)",value:a.U.nameAsc},{label:"Name (Z-A)",value:a.U.nameDesc},{label:"Price (Low-High)",value:a.U.priceAsc},{label:"Price (High-Low)",value:a.U.priceDesc},{label:"Newst to Oldest",value:a.U.newestToOldest}]);const y=this.route.params.pipe((0,C.U)(s=>{const l=this.route.snapshot.url.reduce((B,D)=>B.concat([D.path]),[]).join("/");return s[h.categorySlug]||l||""}));this.categoryDetails=y.pipe((0,U.M)(this.queryChange),(0,c.b)(()=>this.loading=!0),(0,f.w)(([s,l])=>this.sdkService.category(`categories/${s}`,Object.assign(Object.assign({},l),{include:"children"})))),this.categoryProducts=(0,P.aj)([this.categoryDetails,this.queryChange]).pipe((0,c.b)(()=>this.loading=!0),(0,f.w)(([s,l])=>this.sdkService.categoryProducts(s.id,l)),(0,c.b)(s=>console.log("Category products",s)),(0,c.b)(()=>this.loading=!1)),this.breadcrumbs=y.pipe((0,C.U)(s=>[{routerLink:"/",label:"Home"},{routerLink:`/categories/${s}`,label:s}]),(0,L.O)([{routerLink:"/",label:"Home"}]))}onSortByChange(r){console.log("Sort change",r,this.query),this.queryChange.next(Object.assign(Object.assign({},this.query),{sort:r.value}))}get query(){return Object.assign({},this.queryChange.value)}get selectedSort(){return this.query.sort||a.U.default}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(a.g),t.Y36(v.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["url-category"]],decls:12,vars:15,consts:[[3,"breadcrumbs"],[1,"grid","second-nav"],[1,"column-xs-12"],[1,"horizontal-list"],[1,"horizontal-item",2,"min-height","54px"],[3,"placeholder","options","selectedValue","selected"],[1,"category-products"],[3,"products","loading"]],template:function(r,n){1&r&&(t._UZ(0,"url-breadcrumb",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"nav"),t.TgZ(5,"ol",3),t.TgZ(6,"li",4),t.TgZ(7,"url-selectbox",5),t.NdJ("selected",function(s){return n.onSortByChange(s)}),t.ALo(8,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"section",6),t._UZ(10,"url-products-list",7),t.ALo(11,"async"),t.qZA()),2&r&&(t.Q6J("breadcrumbs",t.lcZ(1,6,n.breadcrumbs)||t.DdM(12,g)),t.xp6(7),t.Q6J("placeholder","Sort By...")("options",t.lcZ(8,8,n.sortByOptions)||t.DdM(13,g))("selectedValue",n.selectedSort),t.xp6(3),t.Q6J("products",t.lcZ(11,10,n.categoryProducts)||t.DdM(14,g))("loading",n.loading))},directives:[M.L,O.p,T.o],pipes:[p.Ov],styles:[""]}),o})();const h={categorySlug:"slug"};let j=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,Z.N,b.fz,A.xo,v.Bz.forChild([{path:`:${h.categorySlug}`,pathMatch:"full",component:d},{path:"**",component:d}])]]}),o})()}}]);